(ns linalg.plots
  (:require
   [nextjournal.clerk :as clerk]
   [plotly-pyclj.core :as pc]))

(def cc clerk/code)
(defn ->vec [x] (into [] x))
(defn ->vvec [x] (mapv ->vec x))

(defn ->plotly [v & ws]
  {:data
   (into
    [{:x [0 (first v)] :y [0 (second v)]
      :name :original}]
    (map #(-> {:x [0 (first %)] :y [0 (second %)]}))
    ws)
   :layout {:width 820
            :height 600
            :legend {:orientation :h}}})

(pc/plot
 {:data
  [{:z
    [-10.0 -9.0 -8.0 -7.0 -6.0 -5.0 -4.0 -3.0 -2.0 -1.0 -9.0 -8.0 -7.0
     -6.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 -8.0 -7.0 -6.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0
     1.0 -7.0 -6.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 -6.0 -5.0 -4.0 -3.0 -2.0
     -1.0 0.0 1.0 2.0 3.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -4.0 -3.0
     -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 5.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 5.0 6.0
     -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 5.0 6.0 7.0 -1.0 0.0 1.0 2.0 3.0 4.0 5.0 6.0 7.0
     8.0],
    :x
    [-5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -4.0 -4.0 -4.0
     -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -3.0 -3.0 -3.0 -3.0 -3.0 -3.0 -3.0 -3.0
     -3.0 -3.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0 -1.0 -1.0
     -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 1.0
     1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0
     3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0 4.0
     4.0],
    :y
    [-5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0
     -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0
     -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0
     3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0
     0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0
     -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0
     4.0],
    :type :mesh3d}
   {:z
    [-5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0
     -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0
     3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0
     0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0
     -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0
     4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0 1.0 2.0 3.0 4.0 -5.0 -4.0 -3.0 -2.0 -1.0 0.0
     1.0 2.0 3.0 4.0]
    :x
    [-5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -5.0 -4.0
     -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -4.0 -3.0 -3.0 -3.0 -3.0 -3.0 -3.0
     -3.0 -3.0 -3.0 -3.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -2.0 -1.0
     -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 -1.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0 0.0
     0.0 0.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 1.0 2.0 2.0 2.0 2.0 2.0 2.0 2.0
     2.0 2.0 2.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 3.0 4.0 4.0 4.0 4.0 4.0 4.0
     4.0 4.0 4.0 4.0]
    :y
    [0.0 -1.0 -2.0 -3.0 -4.0 -5.0 -6.0 -7.0 -8.0 -9.0 1.0 0.0
     -1.0 -2.0 -3.0 -4.0 -5.0 -6.0 -7.0 -8.0 2.0 1.0 0.0 -1.0 -2.0 -3.0 -4.0 -5.0
     -6.0 -7.0 3.0 2.0 1.0 0.0 -1.0 -2.0 -3.0 -4.0 -5.0 -6.0 4.0 3.0 2.0 1.0 0.0
     -1.0 -2.0 -3.0 -4.0 -5.0 5.0 4.0 3.0 2.0 1.0 0.0 -1.0 -2.0 -3.0 -4.0 6.0 5.0
     4.0 3.0 2.0 1.0 0.0 -1.0 -2.0 -3.0 7.0 6.0 5.0 4.0 3.0 2.0 1.0 0.0 -1.0 -2.0
     8.0 7.0 6.0 5.0 4.0 3.0 2.0 1.0 0.0 -1.0 9.0 8.0 7.0 6.0 5.0 4.0 3.0 2.0 1.0
     0.0]
    , :type :mesh3d}],
  :layout {:scene {:aspectmode :cube}, :xaxis {:range [-2 2]},
           :yaxis {:range [-2 2]}}})

(comment
  (pc/start!)
  (clerk/show!))
